@page
@model IndexModel
@{
    ViewData["Title"] = Model.IsCloning ? "Cloning " + Model.Clone.ID : null;
    ViewData["IncludeHighlight"] = true;
}

<form method="post" asp-action="Index" onsubmit="event.preventDefault(); validate();">
    <div class="row">

        <div class="col-sm-8">
            <textarea id="paste-input" name="paste-input" class="form-control bg-dark text-light font-monospace"
                      placeholder="<code> /dev/bin </code>" wrap="soft" required=""
                      onkeydown="autosize()" onkeypress="autosize()" onkeyup="autosize()">@(Model.IsCloning ? Model.CloneContent : "")</textarea>
        </div>

        <div class="col-sm-4">
            <div class="row">
                <div class="col-6">
                    <label for="paste-title" class="form-label">Paste Title</label>
                    <input id="paste-title" name="paste-title" type="text" class="form-control bg-dark text-light" placeholder="My paste" />
                </div>
                <div class="col-6">
                    <label for="paste-syntax" class="form-label">Paste Syntax</label>
                    <select id="paste-syntax" name="paste-syntax" class="form-select bg-dark text-light">
                        @{
                            if ( Model.IsCloning ) {
                                <option value="@Model.Clone.Syntax" selected>@Model.Clone.Syntax</option>
                            } else {
                                <option value="plaintext" selected>None</option>
                            }
                        }
                    </select>
                </div>
            </div>

            <div class="row pt-2">
                <div class="col-6">
                    <label for="paste-exposure" class="form-label">Paste Exposure</label>
                    <select id="paste-exposure" name="paste-exposure" class="form-select bg-dark text-light">
                        <option value="0">Public</option>
                        <option value="1">Unlisted</option>
                        <option value="2">Private</option>
                        <option value="3" id="encrypt-option">Encrypted</option>
                    </select>
                </div>

                <div class="col-6">
                    <label id="paste-key-label" for="paste-key" class="form-label text-muted">Paste Key</label>
                    <input id="paste-key" name="paste-key" type="password" class="form-control bg-dark text-light" placeholder="Paste key..." disabled />
                </div>
            </div>

            <div class="row">
                <div class="col-12 pt-2">
                    <button type="submit" class="form-control btn btn-light"><i class="fas fa-plus"></i> Create Paste</button>
                </div>
            </div>
        </div>
    </div>
</form>

<script src="~/js/highlight.pack.js"></script>
<script src="~/js/index.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js" integrity="sha512-nOQuvD9nKirvxDdvQ9OMqe2dgapbPB7vYAMrzJihw5m+aNcf0dX53m6YxM4LgA9u8e9eg9QX+/+mPu8kCNpV2A==" crossorigin="anonymous"></script>
<script src="~/js/aes.js" type="text/javascript"></script>
